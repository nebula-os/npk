containers:
  base:
    auto-clean: true
    setup:
      - !Alpine v3.5
      - !AlpineRepo
        url: http://nl.alpinelinux.org/alpine/
        branch: edge
        repo: community
        tag: community
      - !AlpineRepo
        url: http://nl.alpinelinux.org/alpine/
        branch: edge
        repo: main
        tag: main
      - !Install [make@main, libgit2-dev@main, libcrypto1.1@main, llvm5-libs@main, cargo@community]
commands:
  make-build: !Command
    description: Make an actual build of a rust thing
    container: base
    work-dir: /work
    run: "echo $CARGO_HOME"